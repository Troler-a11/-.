<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
<title>FIN-MASTER PRO 2026: FAMILY ECONOMY</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
<style>
:root{--p:#2563eb;--p-dark:#1d4ed8;--s:#0f172a;--bg:#f1f5f9;--card:#ffffff;--txt:#1e293b;--suc:#10b981;--err:#ef4444;--gold:#f59e0b}
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;background:var(--bg);color:var(--txt);line-height:1.6;overflow-x:hidden}

/* AUTH MODAL */
#auth-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:var(--s);z-index:9999;display:flex;align-items:center;justify-content:center;padding:20px}
.auth-card{background:#fff;padding:30px;border-radius:20px;width:100%;max-width:400px;text-align:center;box-shadow:0 20px 25px -5px rgba(0,0,0,0.3)}
.auth-input{width:100%;padding:15px;margin:15px 0;border:2px solid #e2e8f0;border-radius:12px;font-size:16px;outline:none;transition:0.3s}
.auth-input:focus{border-color:var(--p)}

/* MOBILE NAV */
.top-nav{position:sticky;top:0;background:var(--s);color:#fff;padding:15px;z-index:1000;display:flex;overflow-x:auto;gap:10px;scrollbar-width:none;box-shadow:0 4px 6px -1px rgba(0,0,0,0.1)}
.top-nav::-webkit-scrollbar{display:none}
.nav-tab{padding:10px 18px;background:rgba(255,255,255,0.1);border-radius:20px;white-space:nowrap;font-size:13px;font-weight:600;transition:0.3s;border:1px solid transparent}
.nav-tab.active{background:var(--p);color:#fff;border-color:rgba(255,255,255,0.2)}

/* CONTENT CONTAINER */
.container{padding:20px;max-width:100%;margin-bottom:80px}
.section{display:none;animation:slideUp 0.4s ease-out}
.section.active{display:block}
@keyframes slideUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}

/* UI ELEMENTS */
.card{background:var(--card);padding:20px;border-radius:18px;margin-bottom:20px;border:1px solid #e2e8f0;box-shadow:0 4px 6px -1px rgba(0,0,0,0.05)}
h1{font-size:26px;margin-bottom:15px;color:var(--s);line-height:1.2;font-weight:800}
h2{font-size:20px;margin-bottom:12px;color:var(--p);display:flex;align-items:center;gap:10px}
p{font-size:16px;margin-bottom:10px;color:#475569}
.badge{display:inline-block;padding:5px 12px;background:var(--s);color:#fff;border-radius:8px;font-size:12px;font-weight:700;margin-bottom:12px;text-transform:uppercase;letter-spacing:1px}

/* GAME BOX */
.game-area{background:var(--s);color:#fff;padding:20px;border-radius:18px;margin:15px 0;position:relative;overflow:hidden}
.stat-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:15px}
.stat-card{background:rgba(255,255,255,0.1);padding:10px;border-radius:10px;text-align:center}
.stat-val{display:block;font-size:20px;font-weight:800;color:var(--gold)}

/* PYRAMID */
.p-stack{display:flex;flex-direction:column;gap:8px;margin:25px 0}
.p-item{padding:18px;color:#fff;font-weight:800;text-align:center;border-radius:12px;font-size:14px;transition:0.3s;cursor:pointer;position:relative}
.p-item:active{transform:scale(0.95)}

/* QUIZ */
.q-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}
.opt{padding:16px;background:#fff;border:2px solid #e2e8f0;border-radius:15px;margin-bottom:12px;font-weight:600;display:flex;align-items:center;gap:12px;transition:0.2s;cursor:pointer}
.opt:active{background:#f8fafc}
.opt.correct{background:#dcfce7;border-color:var(--suc);color:#166534}
.opt.wrong{background:#fee2e2;border-color:var(--err);color:#991b1b}
.btn{width:100%;padding:18px;background:var(--p);color:#fff;border:none;border-radius:15px;font-weight:700;font-size:16px;box-shadow:0 4px 14px rgba(37,99,235,0.3);transition:0.3s}
.btn:active{transform:scale(0.98);background:var(--p-dark)}

/* LEADERBOARD */
.leader-table{width:100%;border-collapse:collapse;margin-top:15px}
.leader-table tr{border-bottom:1px solid #e2e8f0}
.leader-table td{padding:12px 8px}
.rank{width:30px;font-weight:bold;color:var(--p)}

.timer-box{font-family:'Courier New',Courier,monospace;background:#ffedd5;color:#9a3412;padding:6px 12px;border-radius:8px;font-weight:bold;display:flex;align-items:center;gap:5px}
</style>
</head>
<body>

<div id="auth-overlay">
    <div class="auth-card">
        <i class="fas fa-user-graduate fa-3x" style="color:var(--p); margin-bottom:15px"></i>
        <h2>Вхід у систему</h2>
        <p>Введи своє ім'я для початку уроку та участі в рейтингу</p>
        <input type="text" id="user-name" class="auth-input" placeholder="Твоє ім'я...">
        <button class="btn" onclick="startApp()">Розпочати навчання</button>
    </div>
</div>

<div class="top-nav">
    <div class="nav-tab active" onclick="nt(this,'s1')"><i class="fas fa-home"></i> Вступ</div>
    <div class="nav-tab" onclick="nt(this,'s2')"><i class="fas fa-book"></i> Теорія</div>
    <div class="nav-tab" onclick="nt(this,'s3')"><i class="fas fa-layer-group"></i> Маслоу</div>
    <div class="nav-tab" onclick="nt(this,'s-game')"><i class="fas fa-gamepad"></i> Гра: Інвестор</div>
    <div class="nav-tab" onclick="nt(this,'s4')"><i class="fas fa-calculator"></i> Кейс</div>
    <div class="nav-tab" onclick="nt(this,'s5')"><i class="fas fa-check-double"></i> Тест (12б)</div>
    <div class="nav-tab" onclick="nt(this,'s-lead')"><i class="fas fa-trophy"></i> Рейтинг</div>
</div>

<div class="container">
    <section id="s1" class="section active">
        <div style="display:flex; justify-content:space-between; align-items:flex-start">
            <span class="badge">Блок 1: Потреби</span>
            <div class="timer-box"><i class="fas fa-clock"></i> <span id="t1">10:00</span></div>
        </div>
        <h1>Потреби та інтереси родини</h1>
        <div class="card" style="border-left:6px solid var(--gold); background: #fffbeb">
            <p style="font-style:italic; font-size:17px; color:#92400e">"Якщо ви цінуєте те, що у вас уже є, ви завжди отримуватимете ще більше. Якщо думаєте лише про те, чого у вас немає — вам ніколи не буде достатньо."</p>
            <p style="text-align:right; margin:0"><b>— Опра Вінфрі</b></p>
        </div>
        <div class="card">
            <h2><i class="fas fa-bullseye"></i> План уроку:</h2>
            <ul style="padding-left:20px; color:#475569">
                <li style="margin-bottom:8px">Розрізняти матеріальні та духовні потреби.</li>
                <li style="margin-bottom:8px">Проаналізувати піраміду А. Маслоу.</li>
                <li style="margin-bottom:8px">Сформувати власну стратегію фінансової безпеки.</li>
                <li>Виграти в симуляторі сімейного бюджету.</li>
            </ul>
        </div>
    </section>

    <section id="s2" class="section">
        <h2>Що таке потреба?</h2>
        <div class="card">
            <p><b>Потреба</b> — це внутрішній стан психологічного або фізіологічного відчуття браку чого-небудь, що спрямовує поведінку на його поповнення.</p>
        </div>
        
        <div class="card" style="background:#eff6ff; border-color:#bfdbfe">
            <h3 style="color:var(--p); margin-bottom:10px">1. Матеріальні (Економічні)</h3>
            <p>Мають речову форму. Це товари та послуги, які можна купити: їжа, смартфон, квиток у кіно, ремонт квартири.</p>
        </div>
        
        <div class="card" style="background:#f0fdf4; border-color:#bbf7d0">
            <h3 style="color:var(--suc); margin-bottom:10px">2. Нематеріальні (Духовні)</h3>
            <p>Потреби в освіті, творчості, спілкуванні, повазі та любові. Їх неможливо просто "покласти в сумку".</p>
        </div>
        <div class="card" style="background:#fff1f2; border-color:#fecdd3">
            <p style="color:var(--err); font-weight:bold; margin:0"><i class="fas fa-exclamation-triangle"></i> Головний парадокс: Ресурси (гроші, час, земля) завжди обмежені, а потреби людини — безмежні!</p>
        </div>
    </section>

    <section id="s3" class="section">
        <h2>Піраміда Абрагама Маслоу</h2>
        <p>Натискай на рівні, щоб вивчити ієрархію:</p>
        
        <div class="p-stack">
            <div class="p-item" style="background:#7c3aed; width:45%; margin:0 auto; z-index:5" onclick="showM(5)">5. САМОВИРАЖЕННЯ</div>
            <div class="p-item" style="background:#2563eb; width:60%; margin:0 auto; z-index:4" onclick="showM(4)">4. ВИЗНАННЯ ТА ПОВАГА</div>
            <div class="p-item" style="background:#059669; width:75%; margin:0 auto; z-index:3" onclick="showM(3)">3. СОЦІАЛЬНІ ПОТРЕБИ</div>
            <div class="p-item" style="background:#d97706; width:85%; margin:0 auto; z-index:2" onclick="showM(2)">2. ПОТРЕБА В БЕЗПЕЦІ</div>
            <div class="p-item" style="background:#dc2626; width:100%; z-index:1" onclick="showM(1)">1. ФІЗІОЛОГІЧНІ ПОТРЕБИ</div>
        </div>
        <div id="m-info" class="card" style="display:none; animation:fadeIn 0.3s"></div>
    </section>

    <section id="s-game" class="section">
        <h2><i class="fas fa-coins"></i> Гра: Сімейний Інвестор</h2>
        <div class="game-area">
            <div class="stat-grid">
                <div class="stat-card">Капітал: <span class="stat-val" id="g-money">1000</span></div>
                <div class="stat-card">Щастя: <span class="stat-val" id="g-happy">50</span></div>
            </div>
            <p id="g-desc" style="color:#cbd5e1; font-size:14px; min-height:60px">Виберіть дію, щоб збалансувати бюджет родини.</p>
            <div id="g-actions">
                <button class="btn" style="background:#475569; margin-bottom:8px" onclick="playGame(1)">Купити акції (-300 грн, +5% шанс)</button>
                <button class="btn" style="background:#475569; margin-bottom:8px" onclick="playGame(2)">Відпустка (-500 грн, +30 щастя)</button>
                <button class="btn" style="background:#475569" onclick="playGame(3)">Курси саморозвитку (-200 грн, +10 щастя)</button>
            </div>
        </div>
    </section>

    <section id="s4" class="section">
        <h2>Практичний розрахунок</h2>
        <div class="card">
            <h3><i class="fas fa-piggy-bank"></i> Фінансова подушка</h3>
            <p>Фінансова подушка безпеки — це запас грошей, який дозволить родині прожити <b>від 3 до 6 місяців</b> у разі втрати доходу.</p>
            <p style="background:#f8fafc; padding:10px; border-radius:10px; font-size:14px"><b>Задача:</b> Щомісячні витрати вашої родини складають 18,500 грн. Розрахуйте мінімальну суму подушки на 6 місяців.</p>
            <input type="number" id="ans" class="auth-input" placeholder="Введіть суму (грн)...">
            <button class="btn" onclick="checkCase()">Перевірити розрахунок</button>
        </div>
    </section>

    <section id="s5" class="section">
        <div class="q-header">
            <span id="q-num" class="badge">Питання 1/18</span>
            <div class="timer-box"><i class="fas fa-star"></i> <span id="q-score">0</span></div>
        </div>
        <div id="q-box">
            <h3 id="q-txt" style="margin-bottom:20px; font-size:18px"></h3>
            <div id="q-opts"></div>
        </div>
        <div id="q-res" style="display:none; text-align:center">
            <div style="background:var(--p); color:#fff; padding:30px; border-radius:20px; margin-bottom:20px">
                <p style="color:rgba(255,255,255,0.8); margin:0">Ваш результат:</p>
                <h1 id="score-val" style="font-size:70px; margin:0; color:#fff">0</h1>
                <p style="margin:0">балів з 12</p>
            </div>
            <div id="final-msg" class="card"></div>
            <button class="btn" onclick="location.reload()">Спробувати ще раз</button>
        </div>
    </section>

    <section id="s-lead" class="section">
        <h2><i class="fas fa-list-ol"></i> Таблиця лідерів</h2>
        <div class="card">
            <table class="leader-table" id="leader-body">
                </table>
        </div>
    </section>
</div>

<script>
let userName = "Гість";
let score = 0;
let currentQ = 0;
let totalPoints = 0;

// Питання (18 штук)
const quizData = [
    {q:"Потреба — це відчуття...", a:["Надлишку ресурсів","Нестачі чого-небудь","Повної задоволеності","Байдужості"], c:1},
    {q:"Хто автор піраміди потреб?", a:["Зигмунд Фрейд","Абрагам Маслоу","Стів Джобс"], c:1},
    {q:"До матеріальних потреб належить:", a:["Дружба","Освіта","Одяг","Визнання"], c:2},
    {q:"Ресурси людства завжди є:", a:["Безмежними","Обмеженими","Безкоштовними","Вічними"], c:1},
    {q:"Перший (фундаментальний) рівень Маслоу:", a:["Безпека","Соціальні зв'язки","Фізіологічні потреби"], c:2},
    {q:"Що таке 'Фінансова подушка'?", a:["М'яка подушка з грошима","Резерв на випадок кризи","Кредитний ліміт","Інвестиції в акції"], c:1},
    {q:"Мінімальний термін подушки безпеки:", a:["1 тиждень","1 місяць","3-6 місяців","5 років"], c:2},
    {q:"Нематеріальна потреба — це:", a:["Автомобіль","Спілкування","Їжа","Житло"], c:1},
    {q:"Який чинник впливає на потреби родини?", a:["Склад родини","Реклама","Стан здоров'я","Всі перелічені"], c:3},
    {q:"Опра Вінфрі радить цінувати те, що...", a:["Буде в майбутньому","Є зараз","Мають сусіди"], c:1},
    {q:"Потреби людини з часом:", a:["Зникають","Зменшуються","Постійно зростають","Не змінюються"], c:2},
    {q:"Рівень 'Визнання' у Маслоу включає:", a:["Сон та їжу","Статус та повагу","Захист від злодіїв"], c:1},
    {q:"Що з цього є обмеженим ресурсом?", a:["Час","Енергія","Гроші","Усе вищевказане"], c:3},
    {q:"Яка потреба є первинною?", a:["Самореалізація","Освіта","Харчування","Кар'єра"], c:2},
    {q:"Реклама впливає на:", a:["Тільки на дорослих","Формування нових потреб","Зменшення витрат"], c:1},
    {q:"Витрати на ліки для літніх людей — це:", a:["Потреба у визнанні","Фізіологічна/Безпека","Соціальна потреба"], c:1},
    {q:"Раціональне використання ресурсів — це:", a:["Витрачати все відразу","Економія та планування","Відмова від усіх потреб"], c:1},
    {q:"Що стоїть на вершині піраміди Маслоу?", a:["Гроші","Сім'я","Саморозвиток/Самореалізація","Безпека"], c:2}
];

function startApp() {
    const input = document.getElementById('user-name');
    if(input.value.trim().length < 2) {
        alert("Будь ласка, введи справжнє ім'я!");
        return;
    }
    userName = input.value;
    document.getElementById('auth-overlay').style.display = 'none';
    updateLeaderboard();
}

function nt(el, id) {
    document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
    document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    el.classList.add('active');
    if(id === 's5' && currentQ === 0) loadQuestion();
    window.scrollTo(0,0);
}

function showM(level) {
    const info = document.getElementById('m-info');
    info.style.display = 'block';
    const texts = [
        "",
        "<b>1. Фізіологія:</b> Базові потреби для виживання (їжа, вода, сон, повітря). Без них неможливе життя.",
        "<b>2. Безпека:</b> Стабільність, захист від загроз, наявність житла та стабільного доходу.",
        "<b>3. Соціальні:</b> Потреба в любові, дружбі, приналежності до групи (сім'я, коло друзів).",
        "<b>4. Визнання:</b> Потреба в повазі, успіху, досягненні певного статусу в суспільстві.",
        "<b>5. Саморозвиток:</b> Найвищий рівень. Реалізація здібностей, творчість, пошук сенсу життя."
    ];
    info.innerHTML = texts[level];
}

// GAME LOGIC
let gMoney = 1000;
let gHappy = 50;
function playGame(choice) {
    const desc = document.getElementById('g-desc');
    if(choice === 1) {
        if(gMoney >= 300) {
            let win = Math.random() > 0.5;
            if(win) { gMoney += 600; desc.innerText = "Успіх! Акції виросли. Ви отримали +600 грн!"; }
            else { gMoney -= 300; desc.innerText = "Ринковий спад. Ви втратили 300 грн."; }
        } else alert("Недостатньо грошей!");
    } else if(choice === 2) {
        if(gMoney >= 500) { gMoney -= 500; gHappy += 30; desc.innerText = "Чудова відпустка! Рівень щастя родини зріс!"; }
        else alert("Недостатньо грошей!");
    } else if(choice === 3) {
        if(gMoney >= 200) { gMoney -= 200; gHappy += 15; desc.innerText = "Нові знання — найкраща інвестиція!"; }
        else alert("Недостатньо грошей!");
    }
    document.getElementById('g-money').innerText = gMoney;
    document.getElementById('g-happy').innerText = gHappy;
}

function checkCase() {
    const val = document.getElementById('ans').value;
    if(val == 111000) {
        alert("Блискуче! 18,500 * 6 = 111,000 грн. Ви готові до фінансових викликів!");
    } else {
        alert("Не зовсім. Помножте місячні витрати (18,500) на 6 місяців.");
    }
}

// QUIZ ENGINE
function shuffle(array) {
    return array.sort(() => Math.random() - 0.5);
}

function loadQuestion() {
    if(currentQ >= quizData.length) {
        showResults();
        return;
    }
    
    const data = quizData[currentQ];
    document.getElementById('q-num').innerText = `Питання ${currentQ + 1}/${quizData.length}`;
    document.getElementById('q-txt').innerText = data.q;
    
    const container = document.getElementById('q-opts');
    container.innerHTML = '';
    
    // Створюємо копію варіантів для перемішування
    let options = data.a.map((text, index) => ({ text, index }));
    options = shuffle(options);
    
    options.forEach(opt => {
        const div = document.createElement('div');
        div.className = 'opt';
        div.innerText = opt.text;
        div.onclick = function() {
            const allOpts = container.querySelectorAll('.opt');
            allOpts.forEach(o => o.style.pointerEvents = 'none');
            
            if(opt.index === data.c) {
                div.classList.add('correct');
                score++;
                document.getElementById('q-score').innerText = score;
            } else {
                div.classList.add('wrong');
            }
            
            setTimeout(() => {
                currentQ++;
                loadQuestion();
            }, 800);
        };
        container.appendChild(div);
    });
}

function showResults() {
    document.getElementById('q-box').style.display = 'none';
    document.getElementById('q-res').style.display = 'block';
    
    let finalGrade = Math.round((score / quizData.length) * 12);
    document.getElementById('score-val').innerText = finalGrade;
    
    const msg = document.getElementById('final-msg');
    if(finalGrade >= 10) msg.innerText = "Вітаємо! Ви справжній фінансовий експерт!";
    else if(finalGrade >= 7) msg.innerText = "Гарний результат, але є куди рости.";
    else msg.innerText = "Варто ще раз перечитати теорію.";
    
    saveScore(userName, finalGrade);
}

function saveScore(name, grade) {
    let leaders = JSON.parse(localStorage.getItem('finLeaders') || '[]');
    leaders.push({name, grade, date: new Date().toLocaleDateString()});
    leaders.sort((a,b) => b.grade - a.grade);
    localStorage.setItem('finLeaders', JSON.stringify(leaders.slice(0, 10)));
    updateLeaderboard();
}

function updateLeaderboard() {
    const leaders = JSON.parse(localStorage.getItem('finLeaders') || '[]');
    const body = document.getElementById('leader-body');
    if(leaders.length === 0) {
        body.innerHTML = "<tr><td colspan='3' style='text-align:center'>Поки що порожньо. Будь першим!</td></tr>";
        return;
    }
    body.innerHTML = "<tr><th>№</th><th>Ім'я</th><th>Бал</th></tr>";
    leaders.forEach((l, i) => {
        const row = `<tr><td class="rank">${i+1}</td><td>${l.name}</td><td><b>${l.grade}</b></td></tr>`;
        body.innerHTML += row;
    });
}

// Timer mock
setInterval(() => {
    // Просто візуальний ефект для реалістичності
}, 1000);

</script>
</body>
</html>
